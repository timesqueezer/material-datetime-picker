{"version":3,"file":"material-datetime-picker.js","sources":["../lib/template/datepicker.template.js","../lib/template/scrim.template.js","../lib/js/events.js","../lib/js/index.js"],"sourcesContent":["export default () => `\n<div class=\"c-datepicker\">\n  <a class=\"c-datepicker__toggle c-datepicker__toggle--right c-datepicker--show-time js-show-clock\" title=\"show time picker\">\n  </a>\n\n  <a class=\"c-datepicker__toggle c-datepicker__toggle--left c-datepicker--show-calendar is-selected js-show-calendar\" title=\"show date picker\">\n  </a>\n\n  <a class=\"c-datepicker-hidden c-datepicker--show-years js-show-years\" title=\"show date picker\">\n  </a>\n\n  <div class=\"c-datepicker__header\">\n    <div class=\"c-datepicker__header-day\">\n      <span class=\"js-day\">Monday</span>\n    </div>\n    <div class=\"c-datepicker__header-date\">\n      <span class=\"c-datepicker__header-date__month js-date-month\"></span>\n      <span class=\"c-datepicker__header-date__day js-date-day\"></span>\n      <span class=\"c-datepicker__header-date__time js-date-time\">\n        <span class=\"c-datepicker__header-date__hours js-date-hours active\">09</span>:<span class=\"c-datepicker__header-date__minutes js-date-minutes\">00</span>\n      </span>\n    </div>\n  </div>\n\n  <div class=\"c-datepicker__calendar\"></div>\n  <div class=\"c-datepicker__years\">\n    <table class=\"c-datepicker__year-table\">\n      <thead>\n        <tr><td colspan=\"5\">\n          <a class=\"js-years-past\"></a>\n        </td></tr>\n      </thead>\n      <tbody>\n      </tbody>\n      <tfoot>\n        <tr><td colspan=\"5\">\n          <a class=\"js-years-future\"></a>\n        </td></tr>\n      </tfoot>\n    </table>\n  </div>\n  <div class=\"c-datepicker__clock\">\n    <div class=\"c-datepicker__clock__am-pm-toggle\">\n      <label class=\"c-datepicker__toggle--checked\">\n        <input checked=\"checked\" class=\"c-datepicker__toggle c-datepicker__toggle--right c-datepicker__clock--am\" type=\"radio\" name=\"time-date-toggle\" value=\"AM\" />\n        AM\n      </label>\n\n      <label>\n        <input class=\"c-datepicker__toggle c-datepicker__toggle--right c-datepicker__clock--pm\" type=\"radio\" name=\"time-date-toggle\" value=\"PM\" />\n        PM\n      </label>\n    </div>\n    <div class=\"c-datepicker__mask\"></div>\n    <div class=\"c-datepicker__clock__hours js-clock-hours active\">\n      <div class=\"c-datepicker__clock__num\" data-number=\"3\">3</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"4\">4</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"5\">5</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"6\">6</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"7\">7</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"8\">8</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"9\">9</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"10\">10</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"11\">11</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"0\">12</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"1\">1</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"2\">2</div>\n      <div class=\"c-datepicker__clock-hands\">\n        <div class=\"c-datepicker__hour-hand\"></div>\n      </div>\n    </div>\n    <div class=\"c-datepicker__clock__minutes js-clock-minutes\">\n      <div class=\"c-datepicker__clock__num\" data-number=\"15\">15</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"20\">20</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"25\">25</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"30\">30</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"35\">35</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"40\">40</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"45\">45</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"50\">50</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"55\">55</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"0\">0</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"5\">5</div>\n      <div class=\"c-datepicker__clock__num\" data-number=\"10\">10</div>\n      <div class=\"c-datepicker__clock-hands\">\n        <div class=\"c-datepicker__hour-hand\"></div>\n      </div>\n    </div>\n  </div>\n  <div class=\"modal-btns\">\n    <a class=\"c-btn c-btn--flat js-cancel\">Cancel</a>\n    <a class=\"c-btn c-btn--flat js-ok\">OK</a>\n  </div>\n</div>\n`;\n","export default ({ styles }) => `\n<div class=\"${styles.scrim}\"></div>\n`;\n","//\n// basic event triggering and listening\n//\nexport default class Events {\n  constructor() {\n    this._events = {\n      '*': []\n    };\n  }\n\n  trigger(eventName, evtData) {\n    eventName.split(' ').forEach((evtName) => {\n      // trigger a global event event\n      this._events['*'].forEach(evt => evt.fn.call(evt.scope, evtName, evtData));\n      // if there are any listeners to this event\n      // then fire their handlers\n      if (this._events[evtName]) {\n        this._events[evtName].forEach((evt) => {\n          evt.fn.call(evt.scope, evtData);\n        });\n      }\n    });\n    return this;\n  }\n\n  on(eventName, fn, scope) {\n    if (!this._events[eventName]) this._events[eventName] = [];\n    this._events[eventName].push({\n      eventName,\n      fn,\n      scope: scope || this\n    });\n    return this;\n  }\n\n  off(eventName, fn) {\n    if (!this._events[eventName]) return this;\n    if (!fn) {\n      this._events[eventName] = [];\n    }\n    this._events[eventName] = this._events[eventName].filter(evt => evt.fn !== fn);\n    return this;\n  }\n\n  once(eventName, fn, scope) {\n    const func = () => {\n      fn.call(scope, eventName, fn, scope);\n      this.off(eventName, func);\n    };\n    return this.on(eventName, func, scope);\n  }\n}\n","import rome from 'rome';\nimport moment from 'moment';\n\nimport popupTemplate from '../template/datepicker.template';\nimport scrimTemplate from '../template/scrim.template';\nimport Events from './events';\n\nimport '../scss/material-datetime-picker.scss';\n\n\nif (typeof Object.assign != 'function') {\n  Object.assign = function(target, varArgs) { // .length of function is 2\n    'use strict';\n    if (target == null) { // TypeError if undefined or null\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    var to = Object(target);\n\n    for (var index = 1; index < arguments.length; index++) {\n      var nextSource = arguments[index];\n\n      if (nextSource != null) { // Skip over if undefined or null\n        for (var nextKey in nextSource) {\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n    return to;\n  };\n}\n\nconst prefix = 'c-datepicker';\nconst defaults = () => ({\n  default: moment().startOf('hour'),\n  // allow the user to override all the classes\n  // used for styling the calendar\n  styles: {\n    scrim: 'c-scrim',\n    back: `${prefix}__back`,\n    container: `${prefix}__calendar`,\n    date: `${prefix}__date`,\n    dayBody: `${prefix}__days-body`,\n    dayBodyElem: `${prefix}__day-body`,\n    dayConcealed: `${prefix}__day--concealed`,\n    dayDisabled: `${prefix}__day--disabled`,\n    dayHead: `${prefix}__days-head`,\n    dayHeadElem: `${prefix}__day-head`,\n    dayRow: `${prefix}__days-row`,\n    dayTable: `${prefix}__days`,\n    month: `${prefix}__month`,\n    next: `${prefix}__next`,\n    positioned: `${prefix}--fixed`,\n    selectedDay: `${prefix}__day--selected`,\n    selectedTime: `${prefix}__time--selected`,\n    time: `${prefix}__time`,\n    timeList: `${prefix}__time-list`,\n    timeOption: `${prefix}__time-option`,\n    clockNum: `${prefix}__clock__num`\n  },\n  // format to display in the input, or set on the element\n  format: 'DD/MM/YY',\n  // the container to append the picker\n  container: document.body,\n  // allow any dates\n  dateValidator: undefined,\n\n  closeOnDateSelect: false,\n  closeOnEscape: true\n});\n\nclass DateTimePicker extends Events {\n  constructor(options = {}) {\n    super();\n    const styles = Object.assign(defaults().styles, options.styles);\n    this.options = Object.assign(defaults(), options);\n    this.options.styles = styles;\n    this.maxYear = parseInt(moment().format('YYYY'));\n\n    // listen to any event\n    this.on('*', (evtName, evtData) => {\n      if (this.options.el) {\n        // if there is a custom element, fire a real dom\n        // event on that now\n        const event = new CustomEvent(evtName, this, evtData);\n        this.options.el.dispatchEvent(event);\n      }\n    });\n  }\n\n  // intialize the rom calendar with our default date and\n  // style options\n  initializeRome(container, validator) {\n    const onData = this.onChangeDate.bind(this);\n\n    if (container.length) {\n      container = container[0];\n    }\n\n    return rome(container, {\n      styles: this.options.styles,\n      time: false,\n      dateValidator: validator,\n      initialValue: this.value\n    }).on('data', onData);\n  }\n\n  // called to open the picker\n  open() {\n    const scrimEl = scrimTemplate(this.options);\n    _appendTemplate(document.body, scrimEl);\n    _appendTemplate(this.options.container, popupTemplate());\n    this.pickerEl = this.options.container.querySelector(`.${prefix}`);\n    this.scrimEl = document.body.querySelector(`.${this.options.styles.scrim}`);\n    this.amToggleEl = this.$('.c-datepicker__clock--am');\n    this.pmToggleEl = this.$('.c-datepicker__clock--pm');\n\n    this.yearsEl = this.$('.d-datepicker__days');\n\n    if (!this.value) {\n      // TODO hack\n      // set/setDate/setTime need refactoring to have single concerns\n      // (set: set the value; setDate/setTime rename to renderDate/renderTime\n      //  and deal with updating the view only).\n      // For now this allows us to set the default time using the same quantize\n      // rules as setting the date explicitly. Setting this.value meets setTime|Date's\n      // expectation that we have a value, and `0` guarantees that we will detect \n      this.value = moment(0);\n      this.setDate(this.options.default);\n      this.setTime(this.options.default);\n    }\n\n    this.rome = this.initializeRome(this.$(`.${this.options.styles.container}`), this.options.dateValidator);\n\n    this._show();\n  }\n\n  close() {\n    this._hide();\n  }\n\n  _hide() {\n    this.pickerEl.classList.remove('c-datepicker--open');\n    window.setTimeout(() => {\n      this.options.container.removeChild(this.pickerEl);\n      document.body.removeChild(this.scrimEl);\n      this.trigger('close');\n    }, 200);\n    return this;\n  }\n\n  _show() {\n    this.delegateEvents();\n\n    this.buildYearsTable();\n\n    this.shouldDisplayTime();\n    // add the animation classes on the next animation tick\n    // so that they actually work\n    window.requestAnimationFrame(() => {\n      this.scrimEl.classList.add(`${this.options.styles.scrim}--shown`);\n      this.pickerEl.classList.add(`${prefix}--open`);\n      this.trigger('open');\n    });\n    return this;\n  }\n\n  delegateEvents() {\n    this.$('.js-cancel')\n      .addEventListener('click', () => this.clickCancel(), false);\n    this.$('.js-ok')\n      .addEventListener('click', () => this.clickSubmit(), false);\n\n    this.$('.js-date-hours').addEventListener('click', e => this.showHourClock(e), false);\n    this.$('.js-date-minutes').addEventListener('click', e => this.showMinuteClock(e), false);\n\n    this.$('.js-clock-hours').addEventListener('mouseleave', e => this.mouseOutHourClock(e), false);\n    this.$(`.js-clock-hours .${this.options.styles.clockNum}`).forEach((el) => {\n      el.addEventListener('click', e => this.clickClickHour(e), false);\n      el.addEventListener('mouseenter', e => this.mouseInHourClock(e), false);\n    });\n\n    this.$('.js-clock-minutes').addEventListener('mouseleave', e => this.mouseOutMinuteClock(e), false);\n    this.$(`.js-clock-minutes .${this.options.styles.clockNum}`).forEach(el => {\n      el.addEventListener('click', (e) => this.clickClockMinute(e), false);\n      el.addEventListener('mouseenter', e => this.mouseInMinuteClock(e), false);\n    });\n\n    this.$('.c-datepicker__clock--am')\n      .addEventListener('click', e => this.clickAm(e), false);\n    this.$('.c-datepicker__clock--pm')\n      .addEventListener('click', e => this.clickPm(e), false);\n\n    this.$('.js-show-calendar')\n      .addEventListener('click', e => this.clickShowCalendar(e), false);\n    this.$('.js-date-day')\n      .addEventListener('click', e => this.clickShowCalendar(e), false);\n    this.$('.js-date-month')\n      .addEventListener('click', e => this.clickShowCalendar(e), false);\n\n    this.$('.js-show-clock')\n      .addEventListener('click', e => this.clickShowClock(e), false);\n\n    this.$('.rd-month-label')\n      .addEventListener('click', e => this.clickShowYears(e), false);\n\n    this.scrimEl\n      .addEventListener('click', e => this.close(), false);\n\n    this.$('.js-years-past')\n      .addEventListener('click', e => this.clickYearsShift(e, false), false);\n\n    this.$('.js-years-future')\n      .addEventListener('click', e => this.clickYearsShift(e, true), false);\n\n    if (this.options.closeOnEscape) {\n      document\n        .addEventListener('keydown', e => {\n          if (e.keyCode == 27) {\n            this.close()\n          }\n        }, false);\n    }\n\n    return this;\n  }\n\n  shouldDisplayTime() {\n    var timeDigits = /[hHaAmsSZ]+/;\n    if (!this.options.format.match(timeDigits)) {\n      this.options.showTime = false;\n      this.$('.js-show-calendar').classList.add('c-datepicker-hidden');\n      this.$('.js-show-clock').classList.add('c-datepicker-hidden');\n      this.$('.js-date-time').classList.add('c-datepicker-hidden');\n    }\n  }\n\n  setYearCallback(e) {\n    var newYear = parseInt(e.target.dataset.year);\n    const newValue = moment(this.value);\n    newValue.year(newYear);\n\n    this.set(newValue);\n    this.rome.setValue(newValue);\n    this.clickShowCalendar();\n  }\n\n  buildYearsTable() {\n    var tbody = this.$('.c-datepicker__year-table tbody');\n\n    // Empty\n    while (tbody.firstChild) {\n      tbody.removeChild(tbody.firstChild);\n    }\n\n    var thisYear = this.get().format('YYYY');\n\n    for (var i = 19; i >= 0; i -= 5) {\n      var tr = document.createElement('tr');\n\n      for (var j = this.maxYear - i; j < this.maxYear - i + 5; j++) {\n        var td = document.createElement('td');\n        var a = document.createElement('a');\n        a.appendChild(document.createTextNode(j.toString()));\n        a.setAttribute('data-year', j);\n        a.setAttribute('href', '#');\n        if (j == thisYear) {\n          td.setAttribute('class', 'active');\n        }\n        a.addEventListener('click', e => this.setYearCallback(e), false);\n        td.appendChild(a);\n        tr.appendChild(td);\n      }\n\n      tbody.appendChild(tr);\n    }\n\n  }\n\n  clickYearsShift(e, future) {\n    future = future || false;\n    let shift = 20;\n    this.maxYear += future ? shift : -shift;\n\n    this.buildYearsTable();\n  }\n\n  clickSubmit() {\n    this.close();\n    this.trigger('submit', this.value, this);\n    return this;\n  }\n\n  clickCancel() {\n    this.close();\n    this.trigger('cancel', this.value, this);\n    return this;\n  }\n\n  clickClickHour(e) {\n    const newValue = moment(this.value);\n    let number = parseInt(e.currentTarget.getAttribute('data-number'), 10);\n    if (number === 0 && this.meridiem === 'pm') {\n      number = 12;\n    } else if (this.meridiem === 'pm') {\n      number += 12;\n    }\n\n    newValue.hour(number);\n    this.set(newValue);\n\n    this.showMinuteClock();\n    return this;\n  }\n\n  clickClockMinute(e) {\n    const newValue = moment(this.value);\n    let number = parseInt(e.currentTarget.getAttribute('data-number'), 10);\n\n    newValue.minute(number);\n    this.set(newValue);\n    return this;\n  }\n\n  onChangeDate(dateString) {\n    const newValue = moment(this.value);\n    const [year, month, date] = dateString.split('-');\n    newValue.set({ year, month: month - 1, date });\n\n    this.set(newValue);\n\n    if (this.options.closeOnDateSelect) {\n      this.clickSubmit();\n    }\n\n    return this;\n  }\n\n  mouseInHourClock() {\n    const active = this.$(`.js-clock-hours .${this.options.styles.clockNum}--active`);\n\n    if (active) {\n      active.classList.add('hide-hand');\n    }\n  }\n\n  mouseInMinuteClock() {\n    const active = this.$(`.js-clock-minutes .${this.options.styles.clockNum}--active`);\n\n    if (active) {\n      active.classList.add('hide-hand');\n    }\n  }\n\n  mouseOutHourClock() {\n    const hideHand = this.$(`.js-clock-hours .${this.options.styles.clockNum}--active.hide-hand`);\n\n    if (hideHand) {\n      hideHand.classList.remove('hide-hand');\n    }\n  }\n\n  mouseOutMinuteClock() {\n    const hideHand = this.$(`.js-clock-minutes .${this.options.styles.clockNum}--active.hide-hand`);\n\n    if (hideHand) {\n      hideHand.classList.remove('hide-hand');\n    }\n  }\n\n  clickAm() {\n    const newValue = moment(this.value);\n    if (this.meridiem === 'pm') {\n      this.meridiem = 'am';\n      newValue.hour(newValue.hour() - 12);\n    }\n    this.set(newValue);\n    return this;\n  }\n\n  clickPm() {\n    const newValue = moment(this.value);\n    if (this.meridiem === 'am') {\n      this.meridiem = 'pm';\n      newValue.hour(newValue.hour() + 12);\n    }\n    this.set(newValue);\n    return this;\n  }\n\n  showHourClock() {\n    this.clickShowClock();\n    this.$('.js-clock-hours').classList.add('active');\n    this.$('.js-clock-minutes').classList.remove('active');\n    this.$('.js-date-hours').classList.add('active');\n    this.$('.js-date-minutes').classList.remove('active');\n  }\n\n  showMinuteClock() {\n    this.clickShowClock();\n    this.$('.js-clock-hours').classList.remove('active');\n    this.$('.js-clock-minutes').classList.add('active');\n    this.$('.js-date-hours').classList.remove('active');\n    this.$('.js-date-minutes').classList.add('active');\n  }\n\n  clickShowCalendar() {\n    this.$('.js-show-calendar').classList.add('is-selected');\n    this.$('.js-show-clock').classList.remove('is-selected');\n    this.$('.js-show-years').classList.remove('is-selected');\n  }\n\n  clickShowClock() {\n    this.$('.js-show-clock').classList.add('is-selected');\n    this.$('.js-show-calendar').classList.remove('is-selected');\n    this.$('.js-show-years').classList.remove('is-selected');\n  }\n\n  clickShowYears() {\n    this.$('.js-show-years').classList.add('is-selected');\n    this.$('.js-show-calendar').classList.remove('is-selected');\n    this.$('.js-show-clock').classList.remove('is-selected');\n  }\n\n  data(val) {\n    console.warn(`MaterialDatetimePicker#data is deprecated and will be removed in a future release. Please use get or set.`)\n    return (val ? this.set(val) : this.value);\n  }\n\n  get() {\n    return moment(this.value);\n  }\n\n  // update the picker's date/time value\n  // value: moment\n  // silent: if true, do not fire any events on change\n  set(value, { silent = false } = {}) {\n    const m = moment(value);\n\n    // maintain a list of change events to fire all at once later\n    const evts = [];\n    if (m.date() !== this.value.date()\n      || m.month() !== this.value.month()\n      || m.year() !== this.value.year()\n    ) {\n      this.setDate(m);\n      evts.push('change:date');\n    }\n\n    if (m.hour() !== this.value.hour()\n      || m.minutes() !== this.value.minutes()\n    ) {\n      this.setTime(m);\n      evts.push('change:time');\n    }\n\n    if (this.options.el) {\n      // if there is an element to fire events on\n      if (this.options.el.tagName === 'INPUT') {\n        // and it is an input element then set the value\n        this.options.el.value = m.format(this.options.format);\n      } else {\n        // or any other element set a data-value attribute\n        this.options.el.setAttribute('data-value', m.format(this.options.format));\n      }\n    }\n    if (evts.length > 0 && !silent) {\n      // fire all the events we've collected\n      this.trigger(['change', ...evts].join(' '), this.value, this);\n    }\n\n    this.buildYearsTable();\n  }\n\n  // set the value and header elements to `date`\n  // the calendar will be updated automatically\n  // by rome when clicked\n  setDate(date) {\n    const m = moment(date);\n    const month = m.format('MMM');\n    const day = m.format('Do');\n    const dayOfWeek = m.format('dddd');\n    const year = m.format('YYYY');\n\n    this.$('.js-day').innerText = dayOfWeek;\n    this.$('.js-date-month').innerText = (`${month} ${year}`);\n    this.$('.js-date-day').innerText = day;\n    this.value.year(m.year());\n    this.value.month(m.month());\n    this.value.date(m.date());\n    return this;\n  }\n\n  // set the value and header elements to `time`\n  // also update the hands of the clock\n  setTime(time) {\n    if (this.options.showTime !== undefined && this.options.showTime == false) {\n      return this;\n    }\n    const m = moment(time);\n    const minuteAsInt = Math.round(parseInt(m.format('mm'), 10) / 5) * 5;\n    m.minutes(minuteAsInt);\n\n    const hour = m.format('HH');\n    const minutes = m.format('mm');\n    const hourAsInt = parseInt(hour, 10) % 12;\n\n    const oldActiveHours = this.$(`.js-clock-hours .${this.options.styles.clockNum}--active`);\n    const oldActiveMinutes = this.$(`.js-clock-minutes .${this.options.styles.clockNum}--active`);\n\n    this.$('.js-date-hours').innerText = hour;\n    this.$('.js-date-minutes').innerText = minutes;\n\n    if (oldActiveHours) {\n      oldActiveHours.classList.remove(`${this.options.styles.clockNum}--active`);\n    }\n\n    if (oldActiveMinutes) {\n      oldActiveMinutes.classList.remove(`${this.options.styles.clockNum}--active`);\n    }\n\n    let hoursEl = this.$(`.js-clock-hours .${this.options.styles.clockNum}[data-number=\"${hourAsInt}\"]`);\n    if (!hoursEl) {\n      return this;\n    } else {\n      hoursEl.classList.add(`${this.options.styles.clockNum}--active`);\n    }\n    this.$(`.js-clock-minutes .${this.options.styles.clockNum}[data-number=\"${minuteAsInt}\"]`)\n      .classList.add(`${this.options.styles.clockNum}--active`);\n\n    this.value.hours(m.hours());\n    this.value.minutes(m.minutes());\n    this.meridiem = this.value.format('a');\n\n    if (this.meridiem === 'pm') {\n      this.amToggleEl.removeAttribute('checked');\n      this.pmToggleEl.setAttribute('checked', 'checked');\n      this.amToggleEl.parentElement.classList.remove('c-datepicker__toggle--checked');\n      this.pmToggleEl.parentElement.classList.add('c-datepicker__toggle--checked');\n    } else {\n      this.pmToggleEl.removeAttribute('checked');\n      this.amToggleEl.setAttribute('checked', 'checked');\n      this.pmToggleEl.parentElement.classList.remove('c-datepicker__toggle--checked');\n      this.amToggleEl.parentElement.classList.add('c-datepicker__toggle--checked');\n    }\n    return this;\n  }\n\n  $(selector) {\n    const els = this.pickerEl.querySelectorAll(selector);\n    return els.length > 1 ? [...els] : els[0];\n  }\n}\n\nexport default DateTimePicker;\n\nfunction _appendTemplate(parent, template) {\n  const tempEl = document.createElement('div');\n  tempEl.innerHTML = template.trim();\n  parent.appendChild(tempEl.firstChild);\n  return this;\n}\n"],"names":["styles","scrim","Events","_events","eventName","evtData","split","forEach","evtName","evt","fn","call","scope","push","filter","func","off","on","Object","assign","target","varArgs","TypeError","to","index","arguments","length","nextSource","nextKey","prototype","hasOwnProperty","prefix","defaults","moment","startOf","document","body","undefined","DateTimePicker","options","maxYear","parseInt","format","el","event","CustomEvent","dispatchEvent","container","validator","onData","onChangeDate","bind","rome","value","scrimEl","scrimTemplate","popupTemplate","pickerEl","querySelector","amToggleEl","$","pmToggleEl","yearsEl","setDate","default","setTime","initializeRome","dateValidator","_show","_hide","classList","remove","setTimeout","removeChild","trigger","delegateEvents","buildYearsTable","shouldDisplayTime","requestAnimationFrame","add","addEventListener","clickCancel","clickSubmit","showHourClock","e","showMinuteClock","mouseOutHourClock","clockNum","clickClickHour","mouseInHourClock","mouseOutMinuteClock","clickClockMinute","mouseInMinuteClock","clickAm","clickPm","clickShowCalendar","clickShowClock","clickShowYears","close","clickYearsShift","closeOnEscape","keyCode","timeDigits","match","showTime","newYear","dataset","year","newValue","set","setValue","tbody","firstChild","thisYear","get","i","tr","createElement","j","td","a","appendChild","createTextNode","toString","setAttribute","setYearCallback","future","shift","number","currentTarget","getAttribute","meridiem","hour","minute","dateString","month","date","closeOnDateSelect","active","hideHand","val","warn","silent","m","evts","minutes","tagName","join","day","dayOfWeek","innerText","time","minuteAsInt","Math","round","hourAsInt","oldActiveHours","oldActiveMinutes","hoursEl","hours","removeAttribute","parentElement","selector","els","querySelectorAll","_appendTemplate","parent","template","tempEl","innerHTML","trim"],"mappings":"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"}